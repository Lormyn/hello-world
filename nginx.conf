# Simple Nginx configuration that listens on the port specified by the PORT environment variable.

# Define the server block
server {
    # Nginx will listen on the port specified by the PORT environment variable.
    # The 'envsubst' command in the Dockerfile's CMD will replace ${PORT}
    # with the actual port number provided by Cloud Run (usually 8080).
    listen ${PORT};

    # Define the root directory for static files.
    # This should match where files are copied in the Dockerfile.
    root /usr/share/nginx/html;

    # Specify the default file to serve.
    index index.html;

    # Basic location block to serve files.
    location / {
        # Try to serve the requested file directly, or fallback to index.html
        try_files $uri $uri/ /index.html;
    }

    # Optional: Add headers for security or caching if needed later.
    # Example: add_header Cache-Control "public, max-age=3600";
}

# Basic Nginx settings (optional, but good practice)
events {
    worker_connections 1024; # Adjust as needed
}

http {
    include       /etc/nginx/mime.types; # Include standard MIME types
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;
    # gzip            on; # Uncomment to enable compression
}

